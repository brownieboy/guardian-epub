{
  "name": "guardian-epub",
  "version": "1.2.0",
  "description": "Creates an ePub of the Guardian newspaper from the Guardian API",
  "type": "module",
  "packageManager": "pnpm@10.28.2",
  "main": "dist-electron/main.cjs",
  "repository": {
    "type": "git",
    "url": "https://github.com/brownieboy/guardian-epub"
  },
  "bugs": {
    "url": "https://github.com/brownieboy/guardian-epub/issues"
  },
  "scripts": {
    "build:sea": "webpack --mode production",
    "build:sea:dev": "webpack --mode development",
    "dev": "concurrently -k \"pnpm dev:renderer\" \"pnpm dev:electron:main\" \"pnpm dev:electron:preload\" \"pnpm dev:electron:run\"",
    "dev:renderer": "vite --config renderer/vite.config.ts",
    "dev:electron:main": "esbuild electron/main.ts --bundle --platform=node --format=cjs --external:electron --external:jsdom --external:jimp --external:epub-gen --outfile=dist-electron/main.cjs --watch",
    "dev:electron:preload": "esbuild electron/preload.ts --bundle --platform=node --format=cjs --external:electron --outfile=dist-electron/preload.cjs --watch",
    "dev:electron:run": "wait-on http://localhost:5173 dist-electron/main.cjs && cross-env ELECTRON_START_URL=http://localhost:5173 electron .",
    "build:renderer": "vite build --config renderer/vite.config.ts",
    "build:electron": "pnpm build:electron:main && pnpm build:electron:preload",
    "build:electron:main": "esbuild electron/main.ts --bundle --platform=node --format=cjs --external:electron --external:jsdom --external:jimp --external:epub-gen --outfile=dist-electron/main.cjs",
    "build:electron:preload": "esbuild electron/preload.ts --bundle --platform=node --format=cjs --external:electron --outfile=dist-electron/preload.cjs",
    "build:app": "pnpm build:renderer && pnpm build:electron",
    "package:app": "pnpm build:app && electron-builder",
    "test": "vitest run --reporter verbose",
    "test:watch": "vitest --reporter verbose",
    "guardianEpub": "node ./src/get-guardian.js",
    "guardianEpubKey": "node ./src/get-guardian-api-key.js",
    "createBlob": "node --experimental-sea-config sea-config.json",
    "createNodeCopyWin": "sh -c 'cp $(command -v node) get-guardian.exe'",
    "createNodeCopyLin": "sh -c 'cp $(command -v node) get-guardian-linux'",
    "createNodeCopyMac": "sh -c 'cp $(command -v node) get-guardian-mac'",
    "createNodeCopyMacIntel": "sh -c 'cp $(command -v node) get-guardian-mac-intel'",
    "injectBlobWin": "npx postject get-guardian.exe NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2",
    "injectBlobLin": "npx postject get-guardian-linux NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2",
    "injectBlobMac": "npx postject get-guardian-mac NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2 --macho-segment-name NODE_SEA && codesign --sign - ./get-guardian-mac",
    "injectBlobMacIntel": "npx postject get-guardian-mac-intel NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2 --macho-segment-name NODE_SEA && codesign --sign - ./get-guardian-mac-intel",
    "createWinExe": "npm run createBlob && npm run createNodeCopyWin && npm run injectBlobWin",
    "createLinuxBin": "npm run createBlob && npm run createNodeCopyLin && npm run injectBlobLin",
    "createMacBin": "npm run createBlob && npm run createNodeCopyMac && npm run injectBlobMac",
    "createMacBinIntel": "npm run createBlob && npm run createNodeCopyMacIntel && npm run injectBlobMacIntel",
    "archive": "node ./scripts/archive-os.js"
  },
  "bin": {
    "guardianEpub": "./src/get-guardian.js",
    "guardianEpubKey": "./src/get-guardian-api-key.js"
  },
  "build": {
    "appId": "com.brownieboy.guardianepub",
    "productName": "Guardian ePub",
    "directories": {
      "output": "release"
    },
    "files": [
      "dist-electron/**",
      "renderer/dist/**",
      "package.json"
    ],
    "mac": {
      "target": [
        "dmg"
      ],
      "icon": "assets/icons/icon.icns"
    },
    "win": {
      "target": [
        "nsis"
      ],
      "icon": "assets/icons/icon.ico"
    },
    "linux": {
      "target": [
        "AppImage"
      ],
      "icon": "assets/icons/512x512.png"
    }
  },
  "keywords": [
    "Guardian"
  ],
  "author": {
    "name": "Michael Brown",
    "email": "brownieboy@gmail.com"
  },
  "license": "ISC",
  "dependencies": {
    "axios": "^1.6.2",
    "date-fns": "^2.30.0",
    "date-fns-tz": "^2.0.0",
    "enquirer": "github:brownieboy/enquirer#bugfix/270-multiselect-with-defaults",
    "epub-gen": "^0.1.0",
    "jimp": "^0.22.10",
    "jsdom": "^23.0.1",
    "ora": "^5.4.1",
    "tough-cookie": "^6.0.0",
    "xmlbuilder": "^15.1.1",
    "yargs": "^17.7.2"
  },
  "devDependencies": {
    "@babel/cli": "^7.23.4",
    "@babel/core": "^7.23.7",
    "@babel/preset-env": "^7.23.8",
    "@dnd-kit/core": "^6.1.0",
    "@dnd-kit/sortable": "^8.0.0",
    "@dnd-kit/utilities": "^3.2.2",
    "@emotion/react": "^11.11.4",
    "@emotion/styled": "^11.11.5",
    "@mui/icons-material": "^5.15.15",
    "@mui/material": "^5.15.15",
    "@types/node": "^20.11.30",
    "@types/react": "^18.2.61",
    "@types/react-dom": "^18.2.19",
    "@vitejs/plugin-react": "^4.2.1",
    "archiver": "^6.0.1",
    "babel-loader": "^9.1.3",
    "babel-plugin-transform-import-meta": "^2.2.1",
    "concurrently": "^9.0.1",
    "cross-env": "^7.0.3",
    "electron": "^29.1.5",
    "electron-builder": "^24.13.3",
    "esbuild": "^0.20.2",
    "eslint": "^8.54.0",
    "glob": "^10.3.10",
    "prettier": "^3.1.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "typescript": "^5.4.2",
    "vite": "^5.1.6",
    "vitest": "^2.1.5",
    "wait-on": "^7.2.0",
    "webpack": "^5.89.0",
    "webpack-cli": "^5.1.4"
  }
}
