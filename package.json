{
  "name": "guardian-epub",
  "version": "1.2.0",
  "description": "Creates an ePub of the Guardian newspaper from the Guardian API",
  "type": "module",
  "packageManager": "pnpm@10.28.2",
  "main": "dist-electron/main.cjs",
  "repository": {
    "type": "git",
    "url": "https://github.com/brownieboy/guardian-epub"
  },
  "bugs": {
    "url": "https://github.com/brownieboy/guardian-epub/issues"
  },
  "scripts": {
    "electron:dev": "concurrently -k \"pnpm electron:renderer:dev\" \"pnpm electron:main:dev\" \"pnpm electron:preload:dev\" \"pnpm electron:run:dev\"",
    "electron:renderer:dev": "vite --config renderer/vite.config.ts",
    "electron:main:dev": "esbuild electron/main.ts --bundle --platform=node --format=cjs --external:electron --external:jsdom --external:jimp --external:epub-gen --outfile=dist-electron/main.cjs --watch",
    "electron:preload:dev": "esbuild electron/preload.ts --bundle --platform=node --format=cjs --external:electron --outfile=dist-electron/preload.cjs --watch",
    "electron:run:dev": "wait-on http://localhost:5173 dist-electron/main.cjs && cross-env ELECTRON_START_URL=http://localhost:5173 electron .",
    "electron:renderer:build": "vite build --config renderer/vite.config.ts",
    "electron:build": "pnpm electron:renderer:build && pnpm electron:main:build && pnpm electron:preload:build",
    "electron:main:build": "esbuild electron/main.ts --bundle --platform=node --format=cjs --external:electron --external:jsdom --external:jimp --external:epub-gen --outfile=dist-electron/main.cjs",
    "electron:preload:build": "esbuild electron/preload.ts --bundle --platform=node --format=cjs --external:electron --outfile=dist-electron/preload.cjs",
    "electron:package": "pnpm electron:build && electron-builder",
    "electron:package:mac:arm": "pnpm electron:package -- --mac --arm64",
    "electron:package:mac:x64": "pnpm electron:package -- --mac --x64",
    "electron:package:win": "pnpm electron:package -- --win",
    "electron:package:linux": "pnpm electron:package -- --linux",
    "cli:run": "node ./src/get-guardian.js",
    "cli:key": "node ./src/get-guardian-api-key.js",
    "cli:sea:build": "webpack --mode production",
    "cli:sea:build:dev": "webpack --mode development",
    "cli:sea:blob": "node --experimental-sea-config sea-config.json",
    "cli:sea:nodecopy:win": "sh -c 'cp $(command -v node) get-guardian.exe'",
    "cli:sea:nodecopy:lin": "sh -c 'cp $(command -v node) get-guardian-linux'",
    "cli:sea:nodecopy:mac": "sh -c 'cp $(command -v node) get-guardian-mac'",
    "cli:sea:nodecopy:mac:intel": "sh -c 'cp $(command -v node) get-guardian-mac-intel'",
    "cli:sea:inject:win": "npx postject get-guardian.exe NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2",
    "cli:sea:inject:lin": "npx postject get-guardian-linux NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2",
    "cli:sea:inject:mac": "npx postject get-guardian-mac NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2 --macho-segment-name NODE_SEA && codesign --sign - ./get-guardian-mac",
    "cli:sea:inject:mac:intel": "npx postject get-guardian-mac-intel NODE_SEA_BLOB sea-prep.blob --sentinel-fuse NODE_SEA_FUSE_fce680ab2cc467b6e072b8b5df1996b2 --macho-segment-name NODE_SEA && codesign --sign - ./get-guardian-mac-intel",
    "cli:sea:win": "npm run cli:sea:blob && npm run cli:sea:nodecopy:win && npm run cli:sea:inject:win",
    "cli:sea:linux": "npm run cli:sea:blob && npm run cli:sea:nodecopy:lin && npm run cli:sea:inject:lin",
    "cli:sea:mac": "npm run cli:sea:blob && npm run cli:sea:nodecopy:mac && npm run cli:sea:inject:mac",
    "cli:sea:mac:intel": "npm run cli:sea:blob && npm run cli:sea:nodecopy:mac:intel && npm run cli:sea:inject:mac:intel",
    "cli:sea:archive": "node ./scripts/archive-os.js",
    "dev": "pnpm electron:dev",
    "build:renderer": "pnpm electron:renderer:build",
    "build:electron": "pnpm electron:main:build && pnpm electron:preload:build",
    "build:app": "pnpm electron:build",
    "package:app": "pnpm electron:package",
    "test": "vitest run --reporter verbose",
    "test:watch": "vitest --reporter verbose",
    "guardianEpub": "pnpm cli:run",
    "guardianEpubKey": "pnpm cli:key",
    "build:sea": "pnpm cli:sea:build",
    "build:sea:dev": "pnpm cli:sea:build:dev",
    "createBlob": "pnpm cli:sea:blob",
    "createNodeCopyWin": "pnpm cli:sea:nodecopy:win",
    "createNodeCopyLin": "pnpm cli:sea:nodecopy:lin",
    "createNodeCopyMac": "pnpm cli:sea:nodecopy:mac",
    "createNodeCopyMacIntel": "pnpm cli:sea:nodecopy:mac:intel",
    "injectBlobWin": "pnpm cli:sea:inject:win",
    "injectBlobLin": "pnpm cli:sea:inject:lin",
    "injectBlobMac": "pnpm cli:sea:inject:mac",
    "injectBlobMacIntel": "pnpm cli:sea:inject:mac:intel",
    "createWinExe": "pnpm cli:sea:win",
    "createLinuxBin": "pnpm cli:sea:linux",
    "createMacBin": "pnpm cli:sea:mac",
    "createMacBinIntel": "pnpm cli:sea:mac:intel",
    "archive": "pnpm cli:sea:archive"
  },
  "bin": {
    "guardianEpub": "./src/get-guardian.js",
    "guardianEpubKey": "./src/get-guardian-api-key.js"
  },
  "build": {
    "appId": "com.brownieboy.guardianepub",
    "productName": "Guardian ePub",
    "directories": {
      "output": "release"
    },
    "files": [
      "dist-electron/**",
      "renderer/dist/**",
      "package.json",
      "src/guardian-toc-html.ejs",
      "src/guardian-toc-ncx.ejs"
    ],
    "mac": {
      "target": [
        "dmg"
      ],
      "icon": "assets/icons/icon.icns"
    },
    "win": {
      "target": [
        "nsis"
      ],
      "icon": "assets/icons/icon.ico"
    },
    "linux": {
      "target": [
        "AppImage"
      ],
      "icon": "assets/icons/512x512.png"
    }
  },
  "keywords": [
    "Guardian"
  ],
  "author": {
    "name": "Michael Brown",
    "email": "brownieboy@gmail.com"
  },
  "license": "ISC",
  "dependencies": {
    "axios": "^1.6.2",
    "date-fns": "^2.30.0",
    "date-fns-tz": "^2.0.0",
    "enquirer": "github:brownieboy/enquirer#bugfix/270-multiselect-with-defaults",
    "epub-gen": "^0.1.0",
    "jimp": "^0.22.10",
    "jsdom": "^23.0.1",
    "ora": "^5.4.1",
    "tough-cookie": "^6.0.0",
    "xmlbuilder": "^15.1.1",
    "yargs": "^17.7.2"
  },
  "devDependencies": {
    "@babel/cli": "^7.23.4",
    "@babel/core": "^7.23.7",
    "@babel/preset-env": "^7.23.8",
    "@dnd-kit/core": "^6.1.0",
    "@dnd-kit/sortable": "^8.0.0",
    "@dnd-kit/utilities": "^3.2.2",
    "@emotion/react": "^11.11.4",
    "@emotion/styled": "^11.11.5",
    "@mui/icons-material": "^5.15.15",
    "@mui/material": "^5.15.15",
    "@types/node": "^20.11.30",
    "@types/react": "^18.2.61",
    "@types/react-dom": "^18.2.19",
    "@vitejs/plugin-react": "^4.2.1",
    "archiver": "^6.0.1",
    "babel-loader": "^9.1.3",
    "babel-plugin-transform-import-meta": "^2.2.1",
    "concurrently": "^9.0.1",
    "cross-env": "^7.0.3",
    "electron": "^29.1.5",
    "electron-builder": "^24.13.3",
    "esbuild": "^0.20.2",
    "eslint": "^8.54.0",
    "glob": "^10.3.10",
    "prettier": "^3.1.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "typescript": "^5.4.2",
    "vite": "^5.1.6",
    "vitest": "^2.1.5",
    "wait-on": "^7.2.0",
    "webpack": "^5.89.0",
    "webpack-cli": "^5.1.4"
  }
}
